# 🎨 算法可视化工具使用指南

## 📋 概述

算法可视化工具是一个拖拽式的可视化系统，允许您通过添加和连接各种工具来创建算法执行的可视化效果。

## ✨ 核心功能

### 工具类型

#### 1. 数据结构工具

**列表 (List)**
- 📊 支持数字、字符串、元组等数据类型
- 🔄 支持添加、插入、删除、弹出等操作
- 🎯 可视化显示列表内容和当前索引

**栈 (Stack)**
- 📚 支持 LIFO (后进先出) 操作
- ⬆️ Push (入栈) - 添加元素到栈顶
- ⬇️ Pop (出栈) - 从栈顶移除元素
- 📊 可视化显示栈内容（顶部到底部）

**堆 (Heap)**
- 🗄️ 支持最小堆 (Min Heap) 和最大堆 (Max Heap)
- ➕ Insert (插入) - 插入元素并自动排序
- ➖ Remove (移除) - 移除堆顶元素
- 📊 可视化显示堆内容，堆顶高亮显示

#### 2. 控制流工具

**循环 (Loop)**
- 🔁 支持设置起始值、结束值、步长
- 📊 可视化显示当前循环索引
- 🔗 可连接到其他工具，在循环中执行操作

**条件判断 (If-Else)**
- 🔀 支持条件判断控制流
- 📊 条件运算符：`==`, `!=`, `>`, `<`, `>=`, `<=`
- ✅ True/False 分支可配置不同值
- 🔗 根据条件输出不同结果

#### 3. 变量工具

**变量 (Variable)**
- 📝 支持多种数据类型：
  - `int` (整数)
  - `float` (浮点数)
  - `char` (字符)
  - `string` (字符串)
  - `boolean` (布尔值)
- ✏️ 支持变量名和值的编辑
- 🔗 可连接到其他工具作为输入

#### 4. 操作节点

**操作节点 (Operation)**
- 🔧 支持列表操作：append, insert, remove, pop
- 🔗 可连接多个输入源
- 📊 执行操作并输出结果

## 🚀 快速开始

### 1. 访问可视化工具

- 访问 `/visualization` 页面
- 或在笔记中使用代码块时，点击"可视化"按钮

### 2. 添加工具

**方法一：拖拽添加**
1. 从工具栏拖拽工具图标到画布
2. 工具会自动添加到鼠标位置

**方法二：点击添加**
1. 点击工具栏中的工具图标
2. 工具会添加到画布中心位置

### 3. 配置工具

- **双击编辑**：双击工具中的文本字段进行编辑
- **选择类型**：使用下拉菜单选择数据类型或操作类型
- **输入值**：在输入框中输入值并按 Enter 保存

### 4. 连接工具

1. **点击端口**：点击工具的输入/输出端口（彩色圆点）
2. **连接目标**：点击另一个工具的对应端口
3. **查看连接**：连接线会显示在工具之间

### 5. 运行可视化

1. **生成步骤**：点击"运行"按钮生成执行步骤
2. **控制播放**：
   - ⏯️ **运行** - 自动播放所有步骤
   - ⏸️ **暂停** - 暂停播放
   - ⏮️ **上一步** - 回到上一步
   - ⏭️ **下一步** - 前进到下一步
   - 🔄 **重置** - 回到第一步
3. **调整速度**：使用速度滑块调整播放速度（100ms - 2000ms）

## 🎯 使用场景

### 场景 1：数组遍历

1. 添加 **列表** 工具，设置初始值 `[1, 2, 3, 4, 5]`
2. 添加 **循环** 工具，设置 `start: 0, end: 4, step: 1`
3. 连接循环到列表，查看每个索引的值

### 场景 2：栈操作

1. 添加 **栈** 工具
2. 使用 Push 按钮添加元素：`1, 2, 3`
3. 使用 Pop 按钮移除元素
4. 观察栈的变化

### 场景 3：条件判断

1. 添加 **变量** 工具，设置值为 `5`
2. 添加 **条件判断** 工具，设置条件 `value > 3`
3. 连接变量到条件判断
4. 查看 True/False 分支的输出

### 场景 4：堆排序可视化

1. 添加 **堆** 工具，选择"最小堆"
2. 使用 Insert 按钮插入多个值：`5, 2, 8, 1, 9`
3. 观察堆的自动排序
4. 使用 Remove 按钮移除堆顶元素

## 💡 使用技巧

### 拖拽工具

- **移动工具**：点击并拖拽工具主体（非按钮/输入框）
- **精确定位**：工具会跟随鼠标移动
- **画布滚动**：如果画布很大，可以滚动查看

### 编辑配置

- **双击编辑**：双击文本字段快速编辑
- **Enter 保存**：在输入框中按 Enter 保存
- **取消编辑**：点击输入框外的区域取消编辑

### 连接管理

- **创建连接**：点击源端口 → 点击目标端口
- **取消连接**：在连接过程中点击空白区域
- **查看连接**：已连接的端口会显示连接数量

### 步骤控制

- **自动播放**：点击"运行"后会自动播放所有步骤
- **手动控制**：使用"上一步"/"下一步"手动控制
- **速度调整**：调整速度滑块控制播放速度

## 🔧 高级功能

### 工具连接

- **输入端口**（绿色）：接收来自其他工具的输出
- **输出端口**（蓝色）：输出到其他工具的输入
- **连接线**：显示工具之间的数据流

### 状态管理

- **配置状态**：工具的初始配置
- **执行状态**：在步骤执行过程中的状态
- **状态同步**：连接的工具会自动同步状态

### 步骤生成

- **自动生成**：基于循环工具自动生成步骤
- **状态跟踪**：每个步骤都会记录所有工具的状态
- **可视化回放**：可以回放任何步骤查看状态

## 📚 相关文档

- [组件 README](../../src/components/AlgorithmVisualizer/README.md) - 组件技术文档
- [项目总结](../PROJECT_SUMMARY.md) - 项目完整总结

## ⚠️ 注意事项

1. **工具位置**：工具位置是相对于画布的，画布可以滚动
2. **连接限制**：确保连接的类型匹配（输入连接到输出）
3. **步骤生成**：需要至少有一个循环工具才能生成步骤
4. **状态保存**：当前工具配置不会自动保存，刷新页面会丢失

## 🚀 未来计划

- ✅ 代码自动解析：从代码自动生成工具配置
- ✅ 更多数据结构：队列、树、图等
- ✅ 更多控制流：while、for、switch 等
- ✅ 状态持久化：保存和加载工具配置
- ✅ 导出功能：导出可视化结果

---

**最后更新**: 2025-01-25  
**状态**: ✅ 功能完整可用
