# 🎨 图形编辑器使用说明

## ✨ 新功能特点

我已经将原来的流程图/思维导图编辑器改造成了一个**自由的图形绘制工具**，类似于 draw.io、Excalidraw 等在线绘图工具。

### 🎯 主要改进

**之前的版本：**
- ❌ 只有预设的流程图和思维导图两种模式
- ❌ 节点样式固定，无法自由选择
- ❌ 需要点击"添加节点"按钮，然后手动修改样式

**现在的版本：**
- ✅ 可以直接选择多种基本图形
- ✅ 支持自定义颜色
- ✅ 点击工具栏图标即可添加图形
- ✅ 更直观、更像传统绘图工具

---

## 🛠️ 可用的图形

### 1. **矩形** 🟦
- 用途：流程步骤、文本框、说明
- 特点：清晰的边界，适合承载文字

### 2. **圆形** ⚪
- 用途：开始/结束节点、状态表示
- 特点：柔和的形状，醒目

### 3. **菱形** 🔷
- 用途：决策点、判断条件
- 特点：经典的流程图决策符号

### 4. **三角形** 🔺
- 用途：方向指示、箭头标记
- 特点：指向性强

### 5. **星形** ⭐
- 用途：重点标记、亮点突出
- 特点：吸引注意力

### 6. **文本** 📝
- 用途：纯文本标签、注释
- 特点：无背景，简洁

---

## 🎨 颜色系统

提供 **7 种预设颜色**：
1. 🔵 蓝色（默认）
2. 🟣 紫色
3. 🟢 绿色
4. 🔴 红色
5. 🟡 黄色
6. 🩷 粉色
7. ⚫ 灰色

**使用方法：**
1. 点击工具栏的"颜色"按钮
2. 从弹出的调色板选择颜色
3. 之后添加的图形将使用所选颜色

---

## 📝 基本操作

### ➕ 添加图形
1. 在工具栏选择想要的图形（矩形、圆形等）
2. 点击图标，图形会自动添加到画布上
3. 拖动图形到合适的位置

### ✏️ 编辑文字
1. **双击**任意图形
2. 输入或修改文字
3. 点击画布其他地方完成编辑

### 🔗 连接图形
1. 将鼠标悬停在图形上
2. 会显示4个连接点（上下左右）
3. 从一个图形的连接点拖拽到另一个图形
4. 自动创建带箭头的连接线

### 🗑️ 删除元素
1. 点击选中图形或连接线
2. 按 **Delete** 键删除

### 🔍 画布操作
- **缩放**：鼠标滚轮
- **平移**：拖动空白区域
- **适应屏幕**：使用右下角的控制按钮

### 💾 保存图形
1. 完成绘制后点击"保存"按钮
2. 图形会保存到当前笔记中
3. 在笔记查看页面会自动显示

---

## 🎯 使用场景

### 1. 流程图设计
- 使用矩形表示步骤
- 使用菱形表示判断
- 使用圆形表示开始/结束
- 用连接线串联整个流程

### 2. 架构图绘制
- 用不同颜色的矩形表示不同模块
- 用连接线表示模块间的关系
- 用文本标注说明

### 3. 思维导图
- 用圆形或星形作为中心主题
- 用矩形作为分支节点
- 用不同颜色区分不同类别

### 4. UML 图示
- 用矩形表示类
- 用菱形表示关系
- 用连接线表示继承/组合关系

### 5. 概念图
- 用不同形状表示不同概念
- 用颜色进行分类
- 用连接线表示概念间关系

---

## 💡 使用技巧

### 1. 快速布局
- 先添加所有图形
- 再批量调整位置
- 最后添加连接线

### 2. 颜色编码
- 用颜色区分不同类型的元素
- 例如：蓝色=输入，绿色=处理，红色=输出

### 3. 图层管理
- 先画大框架（矩形、圆形）
- 再添加细节（文本、连接线）
- 最后添加标记（星形、三角形）

### 4. 保持一致性
- 同类元素使用相同形状和颜色
- 保持图形大小协调
- 连接线方向保持统一

---

## ⌨️ 快捷键参考

| 操作 | 快捷键 |
|------|--------|
| 删除选中元素 | Delete |
| 缩放画布 | 鼠标滚轮 |
| 平移画布 | 拖动空白区域 |
| 编辑文字 | 双击图形 |
| 选择元素 | 单击 |

---

## 🚀 如何访问

1. 进入笔记编辑页面
2. 点击"添加图表"按钮（📊 图标）
3. 新的图形编辑器会打开
4. 开始自由创作！

---

## 🔧 技术实现

- **框架**：React + ReactFlow
- **自定义节点**：使用 SVG 绘制特殊形状（三角形、星形、菱形）
- **样式系统**：基于 Tailwind CSS
- **数据存储**：保存到 localStorage，与笔记内容关联

---

## 📌 注意事项

1. ⚠️ 图形数据保存在浏览器本地，清除浏览器缓存会丢失数据
2. 💾 建议定期导出重要的笔记内容
3. 🎨 添加图形前先选择颜色，可以提高效率
4. 🔗 连接线会自动吸附到图形的连接点

---

## 🆕 后续改进计划

- [ ] 添加更多图形类型（梯形、六边形等）
- [ ] 支持图形样式编辑（边框粗细、阴影等）
- [ ] 支持导出为图片（PNG、SVG）
- [ ] 支持图形分组
- [ ] 支持撤销/重做功能
- [ ] 添加图形库（预设模板）

---

## 📞 反馈

如有问题或建议，欢迎随时反馈！

**享受自由绘图的乐趣！** 🎉

