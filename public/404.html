<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
      // GitHub Pages SPA 路由重定向
      // 当用户直接访问子路由时，GitHub Pages 会返回 404.html
      // 重定向到 index.html，让 React Router 处理路由
      (function() {
        var path = window.location.pathname;
        var search = window.location.search;
        var hash = window.location.hash;
        
        // 防止无限循环：检查路径是否已经包含 /index.html
        if (path.indexOf('/index.html') !== -1) {
          // 如果路径已经是 /index.html 或 /index.html/...，提取实际路径
          var indexPos = path.indexOf('/index.html');
          var actualPath = path.substring(0, indexPos) + path.substring(indexPos + '/index.html'.length);
          
          // 如果实际路径为空，设置为根路径
          if (actualPath === '') {
            actualPath = '/';
          }
          
          // 如果实际路径不是根路径，重定向到 /index.html + 实际路径
          if (actualPath !== '/') {
            window.location.replace('/index.html' + actualPath + search + hash);
          } else {
            // 如果实际路径是根路径，直接重定向到 /index.html
            window.location.replace('/index.html' + search + hash);
          }
          return;
        }
        
        // 如果路径是根路径，直接重定向到 /index.html
        if (path === '/') {
          window.location.replace('/index.html' + search + hash);
          return;
        }
        
        // 对于其他路径（子路由），重定向到 /index.html + 路径
        window.location.replace('/index.html' + path + search + hash);
      })();
    </script>
</head>
<body>
    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <h1>Redirecting...</h1>
        <p>If you are not redirected automatically, <a href="/">click here</a>.</p>
    </div>
</body>
</html>
